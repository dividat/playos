<h1 class="d-Title">Network</h1>

<div class="d-Network__Refresh">
    <a href="/network" class="d-Button">Refresh</a>
</div>

<dl class="d-Definitions">
    <dt class="d-Definitions__Term">Proxy</dt>
    <dd class="d-Definitions__Description">
        {{#is_proxy_set}}
            {{proxy}}
        {{/is_proxy_set}}

        {{^is_proxy_set}}
            none
        {{/is_proxy_set}}

        <aside class="d-Network__Note">
            Note that proxy change requires a restart.
        </aside>
    </dd>

    <dt class="d-Definitions__Term">Internet</dt>
    <dd class="d-Definitions__Description">
        {{#internet_connected}}
            <span class="d-Network__InternetConnected">
                Connected
            </span>
        {{/internet_connected}}

        {{^internet_connected}}
            <span class="d-Network__InternetNotConnected">
                Not connected
            </span>
        {{/internet_connected}}
    </dd>
</dl>

<section>
    <h2 class="d-Subtitle">Services</h2>

    {{#services}}
        <details class="d-Network__ServiceDetail">
            <summary>
                {{name}}

                <span class="d-Network__ServiceStrength">
                    {{strength}}
                </span>
            </summary>

            <pre class="d-Preformatted">{{properties}}</pre>


            <form action="/network/{{id}}/proxy" method="post" class="d-Network__Form">
              <legend class="d-Network__Legend">Proxy</legend>
              <input type="text" class="d-Input d-Network__Input" value="{{proxy}}" name="proxy_url" placeholder="192.168.1.10:8500">
              <input type="submit" class="d-Button" value="Validate">
            </form>

            {{^connected}}
                <form action="/network/{{id}}/connect" method="post" class="d-Network__Form">
                    <input type="text" class="d-Input d-Network__Input" name="passphrase">
                    <input type="submit" class="d-Button" value="Connect">
                </form>
            {{/connected}}

            {{#connected}}
                <form action="/network/{{id}}/remove" method="post" class="d-Network__Form">
                    <input type="submit" class="d-Button" value="Remove">
                </form>
            {{/connected}}
        </details>
    {{/services}}

    {{^services}}
          No services available.
    {{/services}}
</section>
